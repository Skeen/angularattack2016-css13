<div>
<audio #media_player
  (playing)="onPlay()"
  (pause)="onPause()"
  (ended)="onEnded()"
  (seeked)="updateTime()"
  (timeupdate)="updateTime()"
  (canplaythrough)="updateDuration()"
  (durationchange)="updateDuration()"
  (volumechange)="updateVolume()"
></audio>
<div class="col-md-2">
  <div id="previous" class="col-md-4">
    <button type="button"
        (click)="prevSong()"
    >
    <i class="fa fa-step-backward fa-lg" aria-hidden="true"></i>
    </button>
  </div>
  <div id="button" class="col-md-4">
    <button type="button"
      (click)="flip_playing()"
      >
      <i aria-hidden="true"
       [class.fa]="true"
       [class.fa-play]="!playing"
       [class.fa-stop]="playing"
      ></i>
    </button>
  </div>
  <div id="button" class="col-md-4">
    <button type="button"
        (click)="nextSong()"
      >
      <i class="fa fa-step-forward fa-lg" aria-hidden="true"></i>
    </button>
  </div>
</div>
<div id="progress" class="col-md-2">
<progressbar [value]="value" [max]="max"
  (click)="playAhead($event)">
</progressbar>
</div>
<div id="button" class="col-md-1">
  <span style="color:black; white-space:nowrap;">{{value | number:'.1-1'}}</span>
</div>
<div id="button" class="col-md-1">
  <span style="color:black; white-space:nowrap;">{{max | number:'.1-1'}}</span>
</div>
<div id="volume" class="col-md-1">
  <input type="range" [value]=1 [max]="1" [step]="0.01"
    (input)="setVolume($event)"/>
</div>
<div class="col-md-2">
  <div id="button" class="col-md-4">
    <button type="button"
      (click)="flip_shuffle()"
        tooltipPopupDelay='5000' [tooltip]='shuffle ? "Shuffling" : "Not shuffling"'
        tooltipPlacement="bottom"
      >
      <i class="fa fa-random fa-lg" aria-hidden="true"
        [class.pushed_in]="shuffle"
      ></i>
    </button>
  </div>
  <div id="button" class="col-md-4">
    <button type="button"
        (click)="push_repeat()"
        tooltipPopupDelay='5000' [tooltip]='repeat ? (repeat == 1 ? "Repeating song" : "Repeating playlist") : "Not repeating"'
        tooltipPlacement="bottom"
      >
        <i class="fa" aria-hidden="true"
            [class.pushed_in]="repeat != 0"
            [class.fa-repeat]="repeat <= 1"
            [class.fa-undo]="repeat == 2"
      ></i>
    </button>
  </div>
  <div id="button" class="col-md-4">
    <button type="button"
      (click)="mute()"
        tooltipPopupDelay='5000' [tooltip]='muted ? "muted" : volume * 100'
        tooltipPlacement="bottom"
      >
      <i aria-hidden="true"
       [class.fa]="true"
       [class.fa-volume-off]="muted"
       [class.fa-volume-down]="!muted && volume < 0.5"
       [class.fa-volume-up]="!muted && volume > 0.5"
       [class.fa-lg]="true"
      ></i>
    </button>
  </div>
</div>
</div>