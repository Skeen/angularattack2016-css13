<div id="wrapper">
	<nav class="navbar navbar-default">
		<div class="container-fluid">
			<div class="row">
				<div class="col-md-9">
					<p><player #player></player></p>
				</div>
				<div class="col-md-2">
					<search></search>
				</div>
			</div>
    	</div>
    </nav>
    <div id="content">
        <h1>Streamy</h1>

		<form id='magnet' (ngSubmit)="onSubmit()">
		    <label for="torrentId">Download from a magnet link: </label>
		    <input type="text" 
		  [(ngModel)]="magnetURI" placeholder="magnet:" >
		    <button type="submit">Download</button>
		</form>
		<h2>Playlist</h2>
		<playlist #playlist></playlist>
	<h2>Downloads</h2>
	<ul>
	    <li *ngFor="let dl of downloads">
	        <b>{{dl.name}}</b>
	        <ul>
	            <li> Hash: {{dl.info}} </li>
	            <li> <a [href]="dl.magnetURI" target="_blank">[Magnet URI]</a></li>
	            <li> <a [href]="dl.blobURL" target="_blank" download="{{dl.name}}.torrent">[Download .torrent]</a></li>
	            <li *ngIf="dl.file_blobURL != undefined"> Download full file: <a [href]="dl.file_blobURL" target="_blank" download="{{dl.name}}">{{dl.name}}</a></li>
	            <li> Progress: {{dl.progress*100 | number:'.1-1'}} % </li>
	            <li> Speed: {{dl.download_speed/1000 | number:'.1-1'}} kB/sec </li>
	            <li> Timeleft: {{dl.time_left/1000 | number:'.1-1'}} sec </li>
	        </ul>
	    </li>
	</ul>
	'(Blob URLs only work if the file is loaded from a server.
	    "http//localhost" works.
	    "file://" does not.)
	<h2>Log</h2>
	<div #log></div>
    </div>
</div>